# Offensive Formation Data
#
# Source: DOCS/formation.txt
# Detailed offensive formation definitions with player commands

offensive_formations:
  - id: "00"
    name: "FORMATION_00"
    description: "Kickoff formation"
    players:
      - position: QB
        address: "A033"
        commands: "B0-SetPosFromKick(F0 80); 2pt; FC(86 00); B4-MoveAbsolute(78 B0); SetToBlock(FF E0); CD(00 7F); CF(08 E0); LoopBack FD"
      - position: HB
        address: "A01B"
        commands: "B0-SetPosFromKick(DC 88); 2pt; FC(3C 00); B4-MoveAbsolute(60 A0); SetToBlock(FF E0); CD(F8 10); CD(00 7F); CF(F8 E8); LoopBack FD"
      - position: FB
        address: "A000"
        commands: "B0-SetPosFromKick(CC 98); 2pt; FC(FF E0); B4-MoveAbsolute(48 88); SetToBlock(FF E0); F5-Pause(01 19); CD(60 28); CD(0C 7F); CF(10 00); LoopBack FD"
      - position: WR1
        address: "A048"
        commands: "B0-SetPosFromKick(04 88); 2pt; FC(03 C0); B4-MoveAbsolute(90 A0); SetToBlock(FF E0); CD(08 10); CD(00 7F); CF(00 C8); LoopBack FD"
      - position: WR2
        address: "A060"
        commands: "B0-SetPosFromKick(18 98); 2pt; FC(00 E0); B4-MoveAbsolute(A8 88); SetToBlock(FF E0); F5-Pause(01 19); CD(A8 28); CD(F8 7F); CF(F0 00); LoopBack FD"
      - position: TE
        address: "A07B"
        commands: "B1-SetPosFromKick(CC 00); 2pt; FC(70 00); B4-MoveAbsolute(50 38); SetToBlock(FF E0); CD(04 7F); CF(F8 18); LoopBack FD"
      - position: OC
        address: "A090"
        commands: "B1-SetPosFromKick(E4 00); 2pt; FC(0E 00); B4-MoveAbsolute(68 48); SetToBlock(FF E0); CD(04 7F); CD(04 7F); CD(00 7F); CD(00 7F); PassBlock; LoopBack FF"
      - position: LG
        address: "A0AC"
        commands: "B1-SetPosFromKick(FC 00); 2pt; FC(07 00); B4-MoveAbsolute(88 48); SetToBlock(FF E0); CD(FC 7F); CD(FC 7F); CD(00 7F); CD(00 7F); PassBlock; LoopBack FF"
      - position: RG
        address: "A0C8"
        commands: "B1-SetPosFromKick(14 00); 2pt; B4-MoveAbsolute(A0 38); SetToBlock(FF E0); CD(04 7F); CF(08 20); LoopBack FD"
      - position: LT
        address: "A0DA"
        commands: "B1-SetPosFromKick(E0 78); 2pt; B4-MoveAbsolute(88 28); FC(FF E0); CF(00 30); CD(00 7F); CF(00 B8); LoopBack FD"
      - position: RT
        address: "A0EF"
        commands: "B1-SetPosFromKick(00 48); 2pt; Boost-MS(30); SwitchIcon; Boost-MS(00); TakeControl; ComputerTakeControl; LoopBack FF"

  - id: "01"
    name: "FORMATION_01"
    description: "Punt formation"
    players:
      - position: QB
        address: "A0FC"
        commands: "SetPosFromHike(F0 48); 2pt; Punt; F4-Pause(00); LoopBack FE"
      - position: HB
        address: "A105"
        commands: "SetPosFromHike(00 30); 2pt; FC(FF E0); JumpTo BEE8:FC(FF E0); PassBlock; LoopBack FC"
      - position: FB
        address: "A10F"
        commands: "SetPosFromHike(C8 1C); 3pt; JumpTo A65F:D8-MoveAbsolute(C4 F8); 26-JumpTo A668:Boost-HP(10); JumpTo BE3C:FC(FF E0); Block-ROLB; LoopBack FC; JumpTo BE3C:FC(FF E0); Block-ROLB; LoopBack FC"
      - position: WR1
        address: "A116"
        commands: "SetPosFromMid(36 0C); 2pt; MoveRelative(00 7F); JumpTo B832:F4-Pause(00); LoopBack FE"
      - position: WR2
        address: "A120"
        commands: "SetPosFromMid(C0 0C); 2pt; JumpTo A11A:MoveRelative(00 7F); JumpTo B832:F4-Pause(00); LoopBack FE"
      - position: TE
        address: "A127"
        commands: "SetPosFromHike(18 1C); 3pt; JumpTo A720:D8-MoveAbsolute(20 F8); JumpTo BE4E:FC(FF E0); Block-LOLB; LoopBack FC"
      - position: OC
        address: "A12E"
        commands: "SetPosFromHike(F0 06); ShotgunHike; JumpTo BE30:FC(FF E0); Block-NT; LoopBack FC"
      - position: LG
        address: "A135"
        commands: "SetPosFromHike(E4 0C); 3pt; JumpTo BE42:FC(FF E0); Block-RILB; LoopBack FC"
      - position: RG
        address: "A13C"
        commands: "SetPosFromHike(FC 0C); 3pt; JumpTo BE48:FC(FF E0); Block-LILB; LoopBack FC"
      - position: LT
        address: "A143"
        commands: "SetPosFromHike(D8 0C); 3pt; JumpTo BE2A:FC(FF E0); Block-RE; LoopBack FC"
      - position: RT
        address: "A14A"
        commands: "SetPosFromHike(08 0C); 2pt; JumpTo BE36:FC(FF E0); Block-LE; LoopBack FC"

  - id: "02"
    name: "FORMATION_02"
    description: "Field Goal formation"
    players:
      - position: QB
        address: "A16A"
        commands: "SetPosFromHike(F0 40); FieldGoalTakeSnap; JumpTo B832:F4-Pause(00); LoopBack FE"
      - position: HB
        address: "A171"
        commands: "SetPosFromHike(F0 60); 2pt; FieldGoal; JumpTo B832:F4-Pause(00); LoopBack FE"
      - position: FB
        address: "A179"
        commands: "SetPosFromHike(B4 24); 3pt; Boost-HP(06); JumpTo BE2A:FC(FF E0); Block-RE; LoopBack FC"
      - position: WR1
        address: "A182"
        commands: "SetPosFromHike(C4 10); 3pt; Boost-HP(06); JumpTo BE5A:FC(FF E0); Block-LCB; LoopBack FC"
      - position: WR2
        address: "A18B"
        commands: "SetPosFromHike(D4 10); 3pt; Boost-HP(06); JumpTo BE30:FC(FF E0); Block-NT; LoopBack FC"
      - position: TE
        address: "A194"
        commands: "SetPosFromHike(E0 10); 3pt; JumpTo BE36:FC(FF E0); Block-LE; LoopBack FC"
      - position: OC
        address: "A19B"
        commands: "SetPosFromHike(F0 08); FaceDirection(80); ShotgunHike; JumpTo BE3C:FC(FF E0); Block-ROLB; LoopBack FC"
      - position: LG
        address: "A1A4"
        commands: "SetPosFromHike(00 10); 3pt; D8-MoveAbsolute(FC F8); JumpTo BE42:FC(FF E0); Block-RILB; LoopBack FC"
      - position: RG
        address: "A1AE"
        commands: "SetPosFromHike(0C 10); 3pt; D8-MoveAbsolute(08 F8); JumpTo BE48:FC(FF E0); Block-LILB; LoopBack FC"
      - position: LT
        address: "A1B8"
        commands: "SetPosFromHike(1C 10); 3pt; D8-MoveAbsolute(18 F8); JumpTo BE4E:FC(FF E0); Block-LOLB; LoopBack FC"
      - position: RT
        address: "A1C2"
        commands: "SetPosFromHike(30 24); 3pt; JumpTo BE54:FC(FF E0); Block-RCB; LoopBack FC"

# Command reference
command_reference:
  SetPosFromKick:
    description: "Set position from kickoff formation"
    params: [x, y]
  SetPosFromHike:
    description: "Set position from ball snap"
    params: [x, y]
  SetPosFromMid:
    description: "Set position from midfield"
    params: [x, y]
  MoveAbsolute:
    description: "Move to absolute position"
    params: [x, y]
  MoveRelative:
    description: "Move relative to current position"
    params: [x, y]
  SetToBlock:
    description: "Set player to blocking mode"
    params: [mask1, mask2]
  PassBlock:
    description: "Block for pass protection"
  Block:
    description: "Generic block command"
    params: [target]
  Boost-MS:
    description: "Boost maximum speed"
    params: [value]
  Boost-HP:
    description: "Boost hitting power"
    params: [value]
  Boost-RP:
    description: "Boost running power"
    params: [value]
  TakeControl:
    description: "Switch to player control"
  ComputerTakeControl:
    description: "Switch to AI control"
  SwitchIcon:
    description: "Switch player icon (ball carrier)"
  Punt:
    description: "Execute punt"
  FieldGoal:
    description: "Execute field goal kick"
  FieldGoalTakeSnap:
    description: "Field goal formation snap"
  ExtraPoint:
    description: "Execute extra point"
  Hike:
    description: "Snap the ball (center)"
  ShotgunHike:
    description: "Shotgun snap"
  FaceDirection:
    description: "Face specific direction"
    params: [direction]
  JumpTo:
    description: "Jump to subroutine"
    params: [address]
  LoopBack:
    description: "Loop back N bytes"
    params: [offset]
  LoopForward:
    description: "Loop forward N bytes"
    params: [offset]
  Pause:
    description: "Wait for frames"
    params: [frames]
  2pt:
    description: "2-point stance"
  3pt:
    description: "3-point stance"
  QB-Stance:
    description: "Quarterback stance"
  Shift:
    description: "Shift/motion"
    params: [direction]

# Formation types
formation_types:
  - id: KICKOFF
    formation_ids: ["00"]
  - id: PUNT
    formation_ids: ["01"]
  - id: FIELD_GOAL
    formation_ids: ["02"]
  - id: EXTRA_POINT
    formation_ids: ["03"]
  - id: OFFENSE
    formation_ids: ["04", "05", "06"]

# Notes
notes:
  - "Formation 00: Kickoff formation"
  - "Formation 01: Punt formation"
  - "Formation 02: Field Goal formation"
  - "Formation 03: Extra Point formation"
  - "Formation 04-06: Standard offensive formations"
  - "Commands are bytecode for NES engine"
  - "For MonoGame: Parse commands into C# actions"
  - "Player positions: QB, HB, FB, WR1, WR2, TE, OC, LG, RG, LT, RT"
